//工具栏
util.fixbar({
    bar1: '<li class="layui-icon" lay-type="bar1" id="utilbar1" style="margin:5px;border-radius:5px;background-color:#303336"><svg t="1647937004272" class="icon" viewBox="0 0 1172 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1294" width="50" height="50"><path d="M725.29694354 608.52915322a28.80645712 28.80645712 0 0 0 28.14169257-50.23402983 366.08575584 366.08575584 0 0 0-63.58471443-28.01981963 194.67625468 194.67625468 0 0 0 78.32032527-156.06452231c0-107.47024457-87.40543949-194.84244615-194.84244551-194.84244612S378.48935528 266.74053689 378.48935528 374.17754356a194.67625468 194.67625468 0 0 0 78.28708801 156.04236371c-3.72268075 1.24089336-7.42320224 2.51502528-11.07940718 3.87779226A369.78627735 369.78627735 0 0 0 211.0462821 809.37663746a28.80645712 28.80645712 0 1 0 56.5049744 11.07940719 311.70802729 311.70802729 0 0 1 457.74568704-211.92689143z m-289.17251476-234.35160966a137.22953127 137.22953127 0 1 1 137.20737268 137.22953063 137.38464278 137.38464278 0 0 1-137.2295313-137.22953063z" fill="#ffffff" p-id="1295"></path><path d="M600.99707954 692.93207364h341.98804635a28.80645712 28.80645712 0 0 0 22.61306894-46.65538194l-49.55818599-62.77591769a28.81864486 28.81864486 0 0 0-45.22613787 35.7310863l12.7302379 16.12053701h-282.52487008a28.80645712 28.80645712 0 0 0 0 57.61291423zM942.98512589 723.71066509H600.99707954a28.80645712 28.80645712 0 0 0-22.61306894 46.65538193l49.558186 62.78699766a28.80645712 28.80645712 0 0 0 45.21505923-35.69784838l-12.70807997-16.13161634h282.52487072a28.80645712 28.80645712 0 0 0 0-57.61291487z" fill="#ffffff" p-id="1296"></path></svg></li>'
    , bar2: '<li class="layui-icon" lay-type="bar2" id="utilbar2" style="margin:5px;border-radius:5px;background-color:#303336"><svg t="1647936760922" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1429" width="50" height="50"><path d="M790.79783707 299.10469941s-265.55042366 0.26762451-250.89798153 0a130.46695041 130.46695041 0 0 1-29.17107198-2.9104166s-10.83879281-18.19846693-30.54264761-46.83428987C459.64595453 219.28568822 435.79391974 224.30364786 435.79391974 224.30364786l-202.59175681-5.01795964C177.26863958 219.28568822 177.46935795 276.25625656 177.46935795 276.25625656v470.45044191c0 58.00761333 55.73280496 58.00761333 55.73280498 58.00761331h557.56222107c48.57384923 0 55.76625803-53.22382515 55.76625805-53.22382515V352.36197762c0-48.74111453-55.73280496-53.25727821-55.73280498-53.25727821z m0 425.79060118c0 17.93084242-9.33340493 26.76245135-27.89985555 26.76245136H261.10201848c-18.56645064 0-27.89985554-8.66434363-27.89985555-26.76245136V378.95716366c0-17.96429548 9.33340493-26.59518604 27.89985555-26.59518605h501.79596304c18.56645064 0 27.89985554 8.63089057 27.89985555 26.59518606z" p-id="1430" fill="#ffffff"></path><path d="M480.28649514 440.17627116v222.1283463a32.2487539 32.2487539 0 0 0 31.71350486 32.71709678 32.2487539 32.2487539 0 0 0 31.61314568-32.7840029V440.17627116a32.34911309 32.34911309 0 0 0-31.71350488-32.78400292 32.2487539 32.2487539 0 0 0-31.61314567 32.78400292z" p-id="1431" fill="#ffffff"></path><path d="M623.03072011 519.49348638H400.96927989a31.71350486 31.71350486 0 1 0 1e-8 63.56082199h222.0614402a31.71350486 31.71350486 0 1 0 1e-8-63.56082199z" p-id="1432" fill="#ffffff"></path></svg></li>'
    , bar3: '<li class="layui-icon" lay-type="bar3" id="utilbar3" style="margin:5px;border-radius:5px;background-color:#303336"><svg t="1647937645516" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1325" width="50" height="50"><path d="M875.58213164 282.77800605l-49.94031837-49.94387551a15.65148089 15.65148089 0 0 0-6.64049649-3.9562675c-5.34711501-1.58222242-11.369378-0.26465231-15.58958639 3.9562675l-49.94245266 49.94387551c-6.13822624 6.13822624-6.13822624 16.08901094 0 22.22866001 3.06982454 3.06840169 7.09296656 4.60295825 11.11397431 4.60295826s8.04628404-1.53455656 11.11397429-4.60509255l12.63287937-12.63287936v97.08613594c0 14.46765978 11.7279392 26.19631043 26.19702185 26.19631043s26.19631043-11.72865064 26.19631042-26.19631043V292.37165241l12.63074507 12.63145651c3.06911312 3.06911312 7.0915437 4.6043811 11.11397431 4.6043811s8.04557261-1.53526799 11.11255142-4.60366967c6.14178339-6.13538052 6.14178339-16.08829949 0.00142287-22.22723716z m-228.38356342 185.30286226c0 14.46837122 11.73007349 26.19702185 26.19773329 26.19702186s26.19702185-11.72865064 26.19702186-26.19702186V361.93963924c0-29.81678253-9.3304169-58.10185422-26.27314497-79.64611766-18.13437492-23.06103423-43.82770366-36.28724702-70.49213565-36.28724702-26.66016341 0-52.3527807 13.22550135-70.48644418 36.28653559-16.94343949 21.54497488-26.27527926 49.830758-26.27527925 79.64682909v314.63247172c0 34.4410837-20.31704505 63.53932096-44.3669683 63.53932094s-44.36981403-29.09752583-44.36981401-63.53860952V370.55293374l0.38274984-7.22671559 0.03699441-1.38515605c0-29.81749397-9.3304169-58.10256565-26.2717221-79.64611765-18.13295204-23.06103423-43.82628078-36.28582414-70.4914242-36.28582416-26.66300913 0-52.35420357 13.22550135-70.48928992 36.28582416-16.94201662 21.54497488-26.27172209 49.82933514-26.27172209 79.64611765v121.78701852c0 14.46765978 11.7279392 26.19631043 26.19702185 26.19631042s26.19631043-11.72865064 26.19631041-26.19631042V361.93963924c0-34.44179513 20.31704505-63.54003239 44.36839116-63.54003241 23.89909989 0 44.11298745 28.73469605 44.36483403 62.89334167l-0.41689854 7.87411775v307.40575612c0 29.8160711 9.3304169 58.10114279 26.27314497 79.6468291 18.13366347 23.06103423 43.82628078 36.28511272 70.49142419 36.28511271 26.66087485 0 52.35349215-13.22550135 70.48715562-36.28582415 16.94272807-21.5456863 26.27314497-49.830758 26.27314497-79.64611766V361.94035068c0-34.44250656 20.31846791-63.54074383 44.36767973-63.54074385 24.05205754 0 44.37052546 29.09752583 44.37052546 63.54003241v106.14194051z" p-id="1326" fill="#ffffff"></path><path d="M814.52783899 529.04836641c-14.46837122 0-26.19702185 11.7279392-26.19702187 26.19631041v40.06423392c0 34.44179513-20.31775649 63.54003239-44.3669683 63.5400324-24.05205754 0-44.37194833-29.09823727-44.37194831-63.5400324V571.53502269c0-14.46837122-11.72936207-26.19631043-26.19702186-26.19631041-14.46837122 0-26.19702185 11.72865064-26.19702185 26.19631041v23.77317664c0 29.8160711 9.3304169 58.10114279 26.27314496 79.64682906 18.13437492 23.06103423 43.82770366 36.28653558 70.49213563 36.28653558 26.66229771 0 52.35420357-13.22550135 70.48857849-36.28795843 16.9413052-21.54497488 26.27172209-49.83004657 26.27172209-79.64540621v-40.06423394c0.00071143-14.46837122-11.7279392-26.19631043-26.19488756-26.19631042z m0-105.41485809c-14.46837122 0-26.19702185 11.72865064-26.19702187 26.19702186v39.29090847c0 14.46837122 11.7279392 26.19631043 26.19702187 26.19631043s26.19631043-11.72865064 26.19631042-26.19631043V449.83053018c0-14.46837122-11.72865064-26.19702185-26.19631042-26.19702186zM250.42356764 512.77438343c20.16906743 0 36.52059636 16.35152895 36.52059637 36.5213078s-16.35081751 36.51846207-36.52059637 36.51846205c-20.16906743 0-36.5213078-16.34868321-36.52130777-36.51775062s16.35224038-36.52201923 36.52130777-36.52201923m0-31.43528795c-37.47249098 0-67.95730716 30.48481618-67.95730715 67.95659575 0 37.47106811 30.48410475 67.9558843 67.95730715 67.95588428 37.47177953 0 67.9558843-30.48481618 67.95588432-67.95588428 0-37.47249098-30.48481618-67.95659573-67.95588432-67.95659575" p-id="1327" fill="#ffffff"></path></svg></li>'
    , bar4: '<li class="layui-icon" lay-type="bar4" id="utilbar4" style="margin:5px;border-radius:5px;background-color:#303336"><svg t="1647938298678" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1324" width="50" height="50"><path d="M824.040339 789.84644584L232.62693201 198.43303886A23.50998078 23.50998078 0 0 0 215.52876411 191.41057735 24.1206294 24.1206294 0 0 0 191.4081347 215.53120675V808.16591159a24.42595369 24.42595369 0 0 0 24.12062941 24.42595371h592.94002914a23.81530508 23.81530508 0 0 0 18.3194651-8.54908365 24.1206294 24.1206294 0 0 0-2.74791935-34.19633581z m-584.08562117-5.80116367V274.15349564l23.50998077 23.50998078-3.96921783 3.96921783a20.1514122 20.1514122 0 1 0 28.70049584 28.39517089l3.66389352-3.66389289 43.66139237 43.35606806-19.23543866 19.23543864a20.1514122 20.1514122 0 0 0-5.80116429 14.04492362 20.4567365 20.4567365 0 0 0 20.1514122 20.45673588 19.84608726 19.84608726 0 0 0 13.4342744-6.10648795l18.93011433-18.93011436L407.57782638 441.77660419 405.1352307 445.74582139a20.1514122 20.1514122 0 1 0 28.70049582 28.39517154L435.66767297 470.47710001l43.66139236 43.35606806-19.23543867 19.23543866a20.4567365 20.4567365 0 0 0 1e-8 28.39517092 21.37270942 21.37270942 0 0 0 14.35024793 5.80116427 20.7620608 20.7620608 0 0 0 14.35024792-5.80116427l18.93011435-18.93011436 43.66139236 43.35606804-3.96921721 3.96921784a20.1514122 20.1514122 0 0 0 14.35024791 34.50165948 20.4567365 20.4567365 0 0 0 14.35024731-6.10648795l3.6638935-3.66389353 43.66139236 43.35606805-19.23543864 19.23543865A20.1514122 20.1514122 0 0 0 618.86232667 710.46209615a20.7620608 20.7620608 0 0 0 14.35024792-5.80116427l18.93011434-18.93011373 43.66139236 43.35606805-3.96921783 3.96921722a20.1514122 20.1514122 0 1 0 28.70049585 28.39517152l3.66389353-3.96921783 25.64725153 25.64725154z" p-id="1325" fill="#ffffff"></path><path d="M365.44305556 541.00704176a23.50998078 23.50998078 0 0 0-17.09816729-7.02246211 24.42595369 24.42595369 0 0 0-24.1206294 24.12062939v117.2445784a24.42595369 24.42595369 0 0 0 24.1206294 24.42595369H466.20011526a24.42595369 24.42595369 0 0 0 24.1206294-24.42595369 23.81530508 23.81530508 0 0 0-8.54908363-18.31946514z m7.32778639 110.22211629v-34.50165948l34.50165948 34.50165948z" p-id="1326" fill="#ffffff"></path></svg></li>'
    , bar5: '<li class="layui-icon" lay-type="bar5" id="utilbar5" style="margin:5px;border-radius:5px;background-color:#303336"><svg t="1647938518774" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1294" width="50" height="50"><path d="M810.80162904 840.66946683h-312.23599352a29.58025203 29.58025203 0 0 1 0-59.16050403h312.23599352a29.58025203 29.58025203 0 1 1 0 59.16050403zM758.71573529 325.33217631L325.80053031 758.24738128l-72.39766679 12.40727239L265.4978999 697.69824875l432.79195391-432.79195391 60.42588148 60.42588148m74.3696836-9.29312919L707.55833277 190.53661122a13.14677869 13.14677869 0 0 0-18.58625838 0L216.6083167 662.92501917a28.02728879 28.02728879 0 0 0-7.80589985 15.25026326l-21.32243165 128.37007701a26.29355734 26.29355734 0 0 0 30.40192566 30.22115749l127.67165441-21.87295304a28.10123939 28.10123939 0 0 0 15.102362-7.8223333l472.46235857-472.46235857a13.14677869 13.14677869 0 0 0 0-18.59447509z" p-id="1295" fill="#ffffff"></path></svg></li>'
    , bar6: '<li class="layui-icon" lay-type="bar6" id="utilbar6" style="margin:5px;border-radius:5px;background-color:#303336"><svg t="1647938756503" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1325" width="50" height="50"><path d="M785.1894846 748.22616336h-182.12632307a22.76579039 22.76579039 0 0 1 1e-8-45.53158076h182.12632306a22.76579039 22.76579039 0 0 1 0 45.53158075z" fill="#ffffff" p-id="1326"></path><path d="M694.12632307 839.28932489a22.76579039 22.76579039 0 0 1-22.76579037-22.76579039v-182.12632305a22.76579039 22.76579039 0 0 1 45.53158076 0v182.12632307a22.76579039 22.76579039 0 0 1-22.76579039 22.76579037zM785.1894846 361.20772683H238.8105154a22.76579039 22.76579039 0 0 1-22.7657904-22.76579039v-136.59474231A22.76579039 22.76579039 0 0 1 238.8105154 179.08140377h546.3789692a22.76579039 22.76579039 0 0 1 22.7657904 22.76579036v136.59474231a22.76579039 22.76579039 0 0 1-22.7657904 22.76579039zM261.57630578 315.67614607h500.84738844V224.61298454h-500.84738844zM785.1894846 588.86563067H238.8105154a22.76579039 22.76579039 0 0 1-22.7657904-22.76579038v-136.59474231A22.76579039 22.76579039 0 0 1 238.8105154 406.73930761h546.3789692a22.76579039 22.76579039 0 0 1 22.7657904 22.76579037v136.59474231a22.76579039 22.76579039 0 0 1-22.7657904 22.76579039zM261.57630578 543.3340499h500.84738844V452.27088837h-500.84738844zM534.76579039 816.52353452H238.8105154a22.76579039 22.76579039 0 0 1-22.7657904-22.76579038v-136.5947423A22.76579039 22.76579039 0 0 1 238.8105154 634.39721145h295.95527499a22.76579039 22.76579039 0 0 1 22.76579037 22.76579039v136.5947423a22.76579039 22.76579039 0 0 1-22.76579037 22.76579038z m-273.18948461-45.53158078H512v-91.06316153H261.57630578z" fill="#ffffff" p-id="1327"></path></svg></li>'
    , bar7: ''
    , bar8: ''
    , bar9: ''
    , css: { right: 17, top: 261 }
    , bgcolor: '#303336'
    , click: function (type) {
        if (type === 'bar1') {
            //授权管理
            UavProjectAuth();
        } else if (type === 'bar2') {
            //新建项目
            if (uavprojectaddlayerindex != null) {
                LayerSetTop(uavprojectaddlayerindex);
            } else {
                if (uavprojectauthlayerindex == null
                    && uavprojecteditlayerindex == null
                    && uavprojectviewlayerindex == null
                    && selectroutetypelayerindex == null
                    && uavrouteaddlayerindex == null
                    && uavrouteviewlayerindex == null
                    && uavrouteeditlayerindex == null
                    && headeruserlayerindex == null
                    && headerselayerindex == null) {
                    AddUavProject();
                } else {
                    layer.confirm('<p style="font-size:16px">是否确定新建航线任务规划项目？</p><br/>', { icon: 3, title: ['系统提示', 'font-weight:bold;font-size:large;font-family:Microsoft YaHei'], zIndex: layer.zIndex, success: function (layero) { layer.setTop(layero); } }, function (index) {
                        AddUavProject();
                        layer.close(index);
                    });
                }
            }
        } else if (type === 'bar3') {
            //新建航线
            SelectRouteType();
        } else if (type === 'bar4') {
            //测量工具
            if (current_project_tile == null) {
                Measurewidget("terrain");
            }
            else {
                Measurewidget("model");
            }
        } else if (type === 'bar5') {
            //标注工具
            Markwidget();
        } else if (type === 'bar6') {
            //加载数据
            AddLocalData();
        } else if (type === 'bar7') {
        } else if (type === 'bar8') {
        } else if (type === 'bar9') {
        }
    }
});


//提示
$("#utilbar1").on("mouseenter", function () {
    if (tipslayer == -1) {
        tipslayer = layer.tips('授权管理', '#utilbar1', {
            tips: [4, '#78BA32']
        });
    }
});
$("#utilbar1").on("mouseleave", function () {
    if (tipslayer != -1) {
        layer.close(tipslayer);
        tipslayer = -1;
    }
});

$("#utilbar2").on("mouseenter", function () {
    if (tipslayer == -1) {
        tipslayer = layer.tips('新建项目', '#utilbar2', {
            tips: [4, '#78BA32']
        });
    }
});
$("#utilbar2").on("mouseleave", function () {
    if (tipslayer != -1) {
        layer.close(tipslayer);
        tipslayer = -1;
    }
});

$("#utilbar3").on("mouseenter", function () {
    if (tipslayer == -1) {
        tipslayer = layer.tips('新建航线', '#utilbar3', {
            tips: [4, '#78BA32']
        });
    }
});
$("#utilbar3").on("mouseleave", function () {
    if (tipslayer != -1) {
        layer.close(tipslayer);
        tipslayer = -1;
    }
});

$("#utilbar4").on("mouseenter", function () {
    if (tipslayer == -1) {
        tipslayer = layer.tips('测量工具', '#utilbar4', {
            tips: [4, '#78BA32']
        });
    }
});
$("#utilbar4").on("mouseleave", function () {
    if (tipslayer != -1) {
        layer.close(tipslayer);
        tipslayer = -1;
    }
});

$("#utilbar5").on("mouseenter", function () {
    if (tipslayer == -1) {
        tipslayer = layer.tips('标注工具', '#utilbar5', {
            tips: [4, '#78BA32']
        });
    }
});
$("#utilbar5").on("mouseleave", function () {
    if (tipslayer != -1) {
        layer.close(tipslayer);
        tipslayer = -1;
    }
});


$("#utilbar6").on("mouseenter", function () {
    if (tipslayer == -1) {
        tipslayer = layer.tips('加载数据', '#utilbar6', {
            tips: [4, '#78BA32']
        });
    }
});
$("#utilbar6").on("mouseleave", function () {
    if (tipslayer != -1) {
        layer.close(tipslayer);
        tipslayer = -1;
    }
});